2024-06-05 16:21:09.875 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-05 16:21:09.921 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-05 16:21:09.939 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-05 16:21:09.958 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-05 16:21:10.173 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductStatuses" AS "p")
2024-06-05 16:21:10.275 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."StatusId", "p"."StatusName"
FROM "ProductStatuses" AS "p"
WHERE "p"."StatusId" = @__p_0
LIMIT 1
2024-06-05 16:21:10.321 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."StatusId", "p"."StatusName"
FROM "ProductStatuses" AS "p"
WHERE "p"."StatusId" = @__p_0
LIMIT 1
2024-06-05 16:21:10.341 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS "p")
2024-06-05 16:21:10.343 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Discounts" AS "d")
2024-06-05 16:21:10.345 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "FinalPrices" AS "f")
2024-06-05 16:21:10.347 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Inventories" AS "i")
2024-06-05 16:21:10.659 -05:00 [INF] Now listening on: http://localhost:5233
2024-06-05 16:21:10.661 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 16:21:10.661 -05:00 [INF] Hosting environment: Development
2024-06-05 16:21:10.661 -05:00 [INF] Content root path: E:\Pruebas_tecnicas\ProductCatalogChallenge\ProductCatalogChallenge.Api
2024-06-05 16:21:16.321 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/swagger/index.html - null null
2024-06-05 16:21:16.685 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/swagger/index.html - 200 null text/html;charset=utf-8 370.6807ms
2024-06-05 16:21:16.705 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 16:21:16.712 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/_framework/aspnetcore-browser-refresh.js - 200 13790 application/javascript; charset=utf-8 6.5967ms
2024-06-05 16:21:16.713 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/_vs/browserLink - null null
2024-06-05 16:21:16.774 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.3552ms
2024-06-05 16:21:16.926 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/swagger/v1/swagger.json - null null
2024-06-05 16:21:17.079 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.4455ms
2024-06-05 16:21:57.461 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5233/Product - application/json 72
2024-06-05 16:21:57.466 -05:00 [WRN] Failed to determine the https port for redirect.
2024-06-05 16:21:57.470 -05:00 [INF] Executing endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.CreateProduct (ProductCatalogChallenge.Api)'
2024-06-05 16:21:57.492 -05:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ProductCatalogChallenge.Application.Commands.CreateProductCommand) on controller ProductCatalogChallenge.Api.Controllers.ProductController (ProductCatalogChallenge.Api).
2024-06-05 16:21:57.548 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-06-05 16:21:57.573 -05:00 [INF] Executed action ProductCatalogChallenge.Api.Controllers.ProductController.CreateProduct (ProductCatalogChallenge.Api) in 77.5806ms
2024-06-05 16:21:57.573 -05:00 [INF] Executed endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.CreateProduct (ProductCatalogChallenge.Api)'
2024-06-05 16:21:57.575 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5233/Product - 400 null application/problem+json; charset=utf-8 113.7651ms
2024-06-05 16:22:34.083 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-05 16:22:34.129 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-06-05 16:22:34.144 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-06-05 16:22:34.163 -05:00 [INF] No migrations were applied. The database is already up to date.
2024-06-05 16:22:34.375 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ProductStatuses" AS "p")
2024-06-05 16:22:34.477 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."StatusId", "p"."StatusName"
FROM "ProductStatuses" AS "p"
WHERE "p"."StatusId" = @__p_0
LIMIT 1
2024-06-05 16:22:34.523 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."StatusId", "p"."StatusName"
FROM "ProductStatuses" AS "p"
WHERE "p"."StatusId" = @__p_0
LIMIT 1
2024-06-05 16:22:34.542 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS "p")
2024-06-05 16:22:34.544 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Discounts" AS "d")
2024-06-05 16:22:34.546 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "FinalPrices" AS "f")
2024-06-05 16:22:34.548 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Inventories" AS "i")
2024-06-05 16:22:34.846 -05:00 [INF] Now listening on: http://localhost:5233
2024-06-05 16:22:34.848 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 16:22:34.849 -05:00 [INF] Hosting environment: Development
2024-06-05 16:22:34.849 -05:00 [INF] Content root path: E:\Pruebas_tecnicas\ProductCatalogChallenge\ProductCatalogChallenge.Api
2024-06-05 16:22:42.544 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/swagger/index.html - null null
2024-06-05 16:22:42.940 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/swagger/index.html - 200 null text/html;charset=utf-8 403.8057ms
2024-06-05 16:22:42.976 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 16:22:42.991 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/_vs/browserLink - null null
2024-06-05 16:22:42.991 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/_framework/aspnetcore-browser-refresh.js - 200 13790 application/javascript; charset=utf-8 15.713ms
2024-06-05 16:22:43.112 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.4895ms
2024-06-05 16:22:43.269 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/swagger/v1/swagger.json - null null
2024-06-05 16:22:43.452 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.4576ms
2024-06-05 16:23:09.963 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5233/Product - application/json 67
2024-06-05 16:23:09.967 -05:00 [WRN] Failed to determine the https port for redirect.
2024-06-05 16:23:09.973 -05:00 [INF] Executing endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.CreateProduct (ProductCatalogChallenge.Api)'
2024-06-05 16:23:09.996 -05:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(ProductCatalogChallenge.Application.Commands.CreateProductCommand) on controller ProductCatalogChallenge.Api.Controllers.ProductController (ProductCatalogChallenge.Api).
2024-06-05 16:23:12.794 -05:00 [INF] Handling CreateProductCommand command.
2024-06-05 16:23:13.752 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 7), @p2='?' (Size = 5), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("CreatedAt", "Description", "Name", "Price", "StatusId", "UpdatedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "ProductId";
2024-06-05 16:23:13.840 -05:00 [INF] CreateProductCommand command handled in 1044ms.
2024-06-05 16:23:13.844 -05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-06-05 16:23:13.849 -05:00 [INF] Executed action ProductCatalogChallenge.Api.Controllers.ProductController.CreateProduct (ProductCatalogChallenge.Api) in 3847.958ms
2024-06-05 16:23:13.849 -05:00 [INF] Executed endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.CreateProduct (ProductCatalogChallenge.Api)'
2024-06-05 16:23:13.854 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5233/Product - 200 0 null 3891.7436ms
2024-06-05 16:25:15.621 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5233/Product - null null
2024-06-05 16:25:15.622 -05:00 [INF] Executing endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.GetAllProducts (ProductCatalogChallenge.Api)'
2024-06-05 16:25:15.630 -05:00 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller ProductCatalogChallenge.Api.Controllers.ProductController (ProductCatalogChallenge.Api).
2024-06-05 16:25:15.741 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."CreatedAt", "p"."Description", "p"."Name", "p"."Price", "p"."StatusId", "p"."UpdatedAt"
FROM "Products" AS "p"
2024-06-05 16:25:15.752 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductCatalogChallenge.Domain.Entities.Product, ProductCatalogChallenge.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-05 16:25:15.769 -05:00 [INF] Executed action ProductCatalogChallenge.Api.Controllers.ProductController.GetAllProducts (ProductCatalogChallenge.Api) in 139.1177ms
2024-06-05 16:25:15.769 -05:00 [INF] Executed endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.GetAllProducts (ProductCatalogChallenge.Api)'
2024-06-05 16:25:15.770 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5233/Product - 200 null application/json; charset=utf-8 148.8645ms
2024-06-05 16:26:35.178 -05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5233/Product/5 - application/json 161
2024-06-05 16:26:35.179 -05:00 [INF] Executing endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.UpdateProduct (ProductCatalogChallenge.Api)'
2024-06-05 16:26:35.202 -05:00 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, ProductCatalogChallenge.Application.Commands.UpdateProductCommand) on controller ProductCatalogChallenge.Api.Controllers.ProductController (ProductCatalogChallenge.Api).
2024-06-05 16:26:40.331 -05:00 [INF] Handling UpdateProductCommand command.
2024-06-05 16:26:40.344 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."CreatedAt", "p"."Description", "p"."Name", "p"."Price", "p"."StatusId", "p"."UpdatedAt"
FROM "Products" AS "p"
WHERE "p"."ProductId" = @__p_0
LIMIT 1
2024-06-05 16:26:40.353 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 24), @p2='?' (Size = 6), @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedAt" = @p0, "Description" = @p1, "Name" = @p2, "Price" = @p3, "StatusId" = @p4, "UpdatedAt" = @p5
WHERE "ProductId" = @p6
RETURNING 1;
2024-06-05 16:26:40.397 -05:00 [INF] UpdateProductCommand command handled in 65ms.
2024-06-05 16:26:40.397 -05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-06-05 16:26:40.397 -05:00 [INF] Executed action ProductCatalogChallenge.Api.Controllers.ProductController.UpdateProduct (ProductCatalogChallenge.Api) in 5194.5152ms
2024-06-05 16:26:40.397 -05:00 [INF] Executed endpoint 'ProductCatalogChallenge.Api.Controllers.ProductController.UpdateProduct (ProductCatalogChallenge.Api)'
2024-06-05 16:26:40.397 -05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5233/Product/5 - 200 0 null 5219.4366ms
